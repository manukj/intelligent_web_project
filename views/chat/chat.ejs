<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <link rel="stylesheet" href="/css/output.css" />
    <script src="/javascripts/chat_script.js"></script>
    <link rel="manifest" href="/manifest.json" />
  </head>
  <!-- Service working Implementation should be uncommented at the end of the project -->
  <!-- <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/sw.js", { scope: "/" });
    }
  </script> -->
  <script
    src="/tw-elements/dist/js/tw-elements.umd.min.js"
    type="text/javascript"
  ></script>
  <body onload="init()">
    <div class="flex flex-col h-screen">
      <div class="flex flex-col h-screen mx-5">
        <% chatMessages.forEach(function(message) { %> <% if (message.user_name
        == user_name) { %>
        <div class="chat chat-start">
          <% } else { %>
          <div class="chat chat-end">
            <% } %> <%- include('chat_item', { chatMessage: message }) %>
          </div>
          <% }); %>
        </div>
        <div class="mx-5">
          <form id="chat_form" method="POST">
            <input
              type="text"
              name="text"
              placeholder="Type your message here"
              class="w-full p-2 border border-gray-300 rounded"
              id="chat_input"
            />
            <button
              type="submit"
              class="w-full p-2 mt-2 bg-blue-500 text-white rounded"
            >
              Send
            </button>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
